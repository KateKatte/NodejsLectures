## TCP/IP

![alt text](http://www.cellbiol.com/bioinformatics_web_development/wp-content/uploads/2017/01/tpc-ip-and-osi-model-cellbiol.com_.png)

[OSI](https://ru.wikipedia.org/wiki/Сетевая_модель_OSI) и 
[TCP/IP](https://ru.wikipedia.org/wiki/TCP/IP) - модели сетевого взаимодействия.

OSI - это общий, независимый от протокола стандарт, 
действующий как шлюз связи между сетью и конечным пользователем.

Модель TCP/IP основана на стандартных протоколах, вокруг 
которых развивается Интернет. Это протокол связи, который позволяет 
подключать хосты по сети.

http://www.cellbiol.com/bioinformatics_web_development/chapter-1-internet-networks-and-tcp-ip/the-tcpip-family-of-internet-protocols/
https://ru.wikipedia.org/wiki/TCP/IP

## TCP
На транспортном уровне стека TCP/IP используются два основных протокола: TCP и UDP. 
TCP (Transmission Control Protocol), используется для обеспечения надёжной доставки данных на транспортном уровне.

Существуют общие задачи транспортного уровня, с которыми справляется как TCP, так и UDP. 
Основных задач собственно две: сегментация данных, приходящих с уровня приложений и адресация приложений 
(передающего и принимающего) при помощи портов.
Помимо этого, TCP обеспечивает:
- Надёжную доставку сегментов.
- Упорядочивание сегментов при получении.
- Работу с сессиями.
- Контроль за скоростью передачи.  

[Оригинальная статья](http://ciscotips.ru/tcp)  
[Wiki](https://ru.wikipedia.org/wiki/Transmission_Control_Protocol)


Пример соединения  
```TCP 192.168.31.22:51513->52.178.207.179:https```


Простой TCP сервер на Node.js:
```javascript
const server = require('net').createServer();
let clientsCounter = 0;
let socketDict = {};

server.on('connection', socket => {

  socket.id = ++clientsCounter;
  socketDict[socket.id] = socket;

  console.log(clientsCounter);
  console.log(`Client ${socket.id} connected`);

  socket.write('Greetings client!!!\n');

  socket.on('data', data => {

    Object.entries(socketDict).forEach(([scId, sc]) => {
      if (data && sc.id !== socket.id) {
        sc.write(`socket_${socket.id}: `);
        sc.write(data);
      }
    });
  });

  socket.on('end', () => {
    delete socketDict[socket.id];
    console.log(`Client number ${socket.id} disconnected`);
  });
});

server.listen(8000, () => console.log('Server started'));
```

#### Сокет
[Сокет](https://ru.wikipedia.org/wiki/Сокет_(программный_интерфейс)) (англ. socket — разъём) — 
название программного интерфейса для обеспечения обмена данными между процессами. Процессы при таком обмене могут 
исполняться как на одной ЭВМ, так и на различных ЭВМ, связанных между собой сетью. Сокет — абстрактный объект,
представляющий конечную точку соединения.

В процессе обмена, как правило, используется два сокета — сокет отправителя и сокет получателя. 
Например, при обращении к серверу на HTTP-порт сокет будет выглядеть так: 194.106.118.30:80, а ответ 
будет поступать на mmm.nnn.ppp.qqq: xxxxx.

Каждый процесс может создать «слушающий» сокет (серверный сокет) и привязать его к какому-нибудь порту 
операционной системы (в UNIX непривилегированные процессы не могут использовать порты меньше 1024).

## HTTP

[HTTP](https://ru.wikipedia.org/wiki/HTTP) (англ. HyperText Transfer Protocol — «протокол передачи гипертекста») — 
протокол прикладного уровня передачи данных (изначально — в виде гипертекстовых документов в формате «HTML», в
настоящий момент используется для передачи произвольных данных).

### Структура HTTP
Http запрос(request) и ответ(response) имеют общую структуру и состоят из:
- Стартовая строка (Starting line) — определяет тип сообщения и всегда состоит из одной строки;
- Заголовки (Headers) — характеризуют тело сообщения, параметры передачи и прочие сведения;
- Тело сообщения (Message Body) — непосредственно данные сообщения. Обязательно должно 
отделяться от заголовков пустой строкой.

![MDN HTTP](https://mdn.mozillademos.org/files/13827/HTTPMsgStructure2.png)

[ОБЯЗАТЕЛЬНО ПРОЧИТАТЬ](https://developer.mozilla.org/ru/docs/Web/HTTP/Messages)


### Запрос(request)
Метод, заголовки, тело

### Методы

- ```GET``` запрашивает представление ресурса. Запросы с использованием этого метода 
могут только извлекать данные.

- ```HEAD``` запрашивает ресурс так же, как и метод ```GET```, но без тела ответа.

- ```POST``` используется для отправки сущностей к определённому ресурсу. 
Часто вызывает изменение состояния или какие-то побочные эффекты на сервере.

- ```PUT``` заменяет все текущие представления ресурса данными запроса.

- ```DELETE``` удаляет указанный ресурс.

- ```CONNECT``` устанавливает "туннель" к серверу, определённому по ресурсу.

- ```OPTIONS``` используется для описания параметров соединения с ресурсом.

- ```TRACE``` выполняет вызов возвращаемого тестового сообщения с ресурса.

- ```PATCH``` используется для частичного изменения ресурса.

[Статья](https://developer.mozilla.org/ru/docs/Web/HTTP/Methods)

### Заголовки(Headers)
Заголовки запроса HTTP имеют стандартную для заголовка HTTP структуру: не зависящая от регистра строка, 
завершаемая двоеточием и значение, структура которого определяется заголовком. Весь заголовок, включая значение, 
представляет собой одну строку, которая может быть довольно длинной.


### Тело
Последней частью запроса является его тело. Оно бывает не у всех запросов: запросы, собирающие (fetching) 
ресурсы, такие как like ```GET```, ```HEAD```, ```DELETE```, или ```OPTIONS```, в нем обычно не нуждаются. 
Но некоторые запросы отправляют на сервер данные для обновления, как это часто бывает с запросами ```POST```
(содержащими данные HTML-форм).

### Коды ответа Http
Код ответа (состояния) HTTP показывает, был ли успешно выполнен определённый HTTP запрос. 
Коды сгруппированы в 5 классов: информационные, успешные, перенаправления, ошибки клиента и ошибки сервера

[MDN](https://developer.mozilla.org/ru/docs/Web/HTTP/Status)  
[Wiki http статус коды](https://ru.wikipedia.org/wiki/Список_кодов_состояния_HTTP)


# HTTPS
HTTPS (HTTP Secure) является зашифрованной версией HTTP протокола. Обычно он использует 
SSL или TLS для шифрования соединения между клиентом и сервером. 
Это безопасное соединение позволяет клиентам безопасно обмениваться конфиденциальными данными 
с сервером, например, для банковских операций или онлайн-покупок.

[Wiki Https](https://ru.wikipedia.org/wiki/HTTPS)


#### Ресурсы
- https://proglib.io/p/computer-networking/
- https://www.webnots.com/what-is-http/
